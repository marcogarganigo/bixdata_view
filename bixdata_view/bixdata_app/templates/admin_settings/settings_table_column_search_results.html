<button class="btn btn-primary" id="save-settings-button" onclick="setFieldsOrderSave()">Salva</button>
<div id="settings_block_usertables_settings" class="drag-elements-container" style="height: 95%; overflow: scroll">
    <div class="drag-item">
        {% for field in fields %}
            <div class="drag-item2">
             {% if field.order != null %}
                 <input class="form-check-input mt-0 checkbox" type="checkbox" checked value="" aria-label="Checkbox for following text input">
             {% else %}
                 <input class="form-check-input mt-0 checkbox" type="checkbox" value="" aria-label="Checkbox for following text input">
             {% endif %}
            <p class="settings_block_usertables_fieldid" data-fieldid="{{ field.id }}">{{field.description}}</p>
            <button class="btn btn-secondary" onclick="settingsTableColumnSearchResultsOptions('{{ field.id }}')">Impostazioni</button>
            </div>
        {% endfor %}
    </div>
</div>

<script>
    (function() {
        var drake = dragula([document.querySelector('.drag-elements-container')], {
            moves: function (el, container, handle) {
                return !handle.classList.contains('drag-item2');
            }
        });

        dragula([].slice.apply(document.querySelectorAll('.drag-item')), {
            direction: 'vertical'
        });
    })();

    function settingsTableColumnSearchResultsOptions(fieldid) {
    $.ajax({
            url: "{% url 'settings_table_fieldsettings' %}",
            type: 'POST',
            data: {
                'fieldid': fieldid,
            },
            success: function (data) {
                $('#table_settings_menu_options').html(data);
            }
        });
    }
</script>