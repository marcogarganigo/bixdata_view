<div id="chart1"></div>

<script>
  var options = {
    chart: {
      height: 'auto',
      type: 'bar',
    },
    series: [{
      name: 'Venduto',
      data: {{ data.amounts|safe }}
    },
    {
      name: 'Margine previsto',
      data: {{ data.expected_margins|safe }}
    },
    {
      name: 'Margine effettivo',
      data: {{ data.effective_margins|safe }}
    }],
    xaxis: {
      categories: {{ data.users|safe }},
      labels: {
        show: true,
        style: {
          fontSize: '12px',
        },
      },
      tooltip: {
        enabled: true,
        offsetY: 8,
      },
      responsive: [{
        breakpoint: 480,
        options: {
          labels: {
            rotate: -90,
          },
        },
      }],
    },
        yaxis: {
    labels: {
      formatter: function(val) {
        return Math.round(val);
      }
    }
  },
      dataLabels: {
      enabled: false
    },
      title: {
          text: 'Margine per venditore 2023',
        }
  };

  var chart = new ApexCharts(document.querySelector("#chart1"), options);

  chart.render();
</script>